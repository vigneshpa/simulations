{"version":3,"file":"assets/bundle.js","mappings":"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","sources":["webpack://simulations/webpack/bootstrap","webpack://simulations/webpack/runtime/publicPath","webpack://simulations/./src/inductor/index.ts"],"sourcesContent":["// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.p = \"./\";","import './style.css'; // importing style sheet\n\n// Constants\nconst inductance = 10; // in Henries(H)\nconst resistance = 5; // in Ohms(Ω)\nconst sineWaveFrequency = 0.2; // in Hertz (Hz)\nconst sineWaveAngularVelocity = 2 * Math.PI * sineWaveFrequency; // in rad/sec as ω=2πf\nconst voltageMax = 10;\nconst currentMax = 2;\nconst initialInductorCurrent = -voltageMax / (inductance * sineWaveAngularVelocity); // as -I₀=-E₀/Lω\nconst angularVelocityCurrentRatio = 1;\nconst integrateResistorCurrent = (delta: number) => voltage / resistance; // as V=iR\nconst integrateInductorCurrent = (delta: number) => (currentIntegral += (delta * voltage) / inductance); // as V=-L(di/dt)\nconst integrateResIndCurrent = (delta: number) => (currentIntegral += (delta * (voltage - currentIntegral * resistance)) / inductance); // as V=-L(di/dt)+iR\n\n// Variables\nlet integrateCurrent = integrateResistorCurrent;\nlet voltage = 0;\nlet rps = 0;\nlet wheelR: number = 0;\nlet currentIntegral: number = 0;\nlet loadtype: 'Resistive' | 'Inductive' | 'ResInd' | 'InductiveCorrected' = 'Resistive';\nlet generateSine: boolean = false;\nlet generatorStartTS: number | null = null;\nlet previousTS: number = 0;\n\n// Adding wheel element\nconst wheelEl = document.createElement('img');\nwheelEl.id = 'flywheel';\nwheelEl.src = require('./flywheel.svg');\ndocument.getElementById('view')!.append(wheelEl);\n\nconst changeGenerateSine = (checked: boolean) => {\n  generatorStartTS = null;\n  currentIntegral = 0;\n  rps = 0;\n  generateSine = !!checked;\n  if (generateSine && loadtype === 'InductiveCorrected') currentIntegral = initialInductorCurrent;\n};\n\nconst changeCircuitType = (loadt: typeof loadtype) => {\n  currentIntegral = 0;\n  loadtype = loadt;\n  if (generateSine) changeGenerateSine(true);\n  switch (loadt) {\n    case 'Resistive':\n      integrateCurrent = integrateResistorCurrent;\n      break;\n    case 'Inductive':\n      integrateCurrent = integrateInductorCurrent;\n      break;\n    case 'ResInd':\n      integrateCurrent = integrateResIndCurrent;\n      break;\n    case 'InductiveCorrected':\n      integrateCurrent = integrateInductorCurrent;\n      break;\n    default:\n      integrateCurrent = integrateResistorCurrent;\n  }\n};\n\nconst step: FrameRequestCallback = timeStamp => {\n  const delta = (timeStamp - previousTS) / 1000; // calculating delta and converting it to seconds\n\n  const current = integrateCurrent(delta);\n\n  rps = angularVelocityCurrentRatio * current;\n\n  wheelR += rps * delta * 360;\n  if (wheelR > -5000 && wheelR < 5000) wheelR = wheelR % 360;\n  wheelEl.style.transform = `rotate(${wheelR}deg)`;\n\n  // --\n  curEl.innerText = current.toFixed(1);\n  curPgr.value = current + currentMax;\n  if (!generatorStartTS) generatorStartTS = timeStamp;\n  if (generateSine)\n    (<any>volEl).innerText = ((<any>voltageInp).value = voltage =\n      voltageMax * Math.sin(((timeStamp - generatorStartTS) * sineWaveAngularVelocity) / 1000)).toFixed(1);\n  previousTS = timeStamp;\n  window.requestAnimationFrame(step);\n};\nwindow.requestAnimationFrame(step);\n\n// Populating controls\n\n// Shortcut functions\nconst br = () => document.createElement('br');\n\n// getting control element\nconst controls = document.getElementById('controls')!;\n\n// Appending current\nconst curEl = document.createElement('span');\ncurEl.innerText = '0.0';\ncontrols.append('Current : ', curEl, 'A', br());\n\n// Appending current progress\nconst curPgr = document.createElement('progress');\ncurPgr.max = currentMax * 2;\ncurPgr.value = 2;\ncontrols.append(curPgr, br());\n\n// Appending voltage\nconst volEl = document.createElement('span');\nvolEl.innerText = '0.0';\nconst voltageLablel = document.createElement('label');\nvoltageLablel.append('Voltage : ', volEl, 'V');\nvoltageLablel.htmlFor = 'voltage';\ncontrols.append(voltageLablel, br());\n\n// Appending voltage input\nconst voltageInp = document.createElement('input');\nvoltageInp.id = 'voltage';\nvoltageInp.type = 'range';\nvoltageInp.max = voltageMax as unknown as string;\nvoltageInp.min = -voltageMax as unknown as string;\nvoltageInp.step = '0.1';\nvoltageInp.value = '0';\nvoltageInp.oninput = ev => (volEl.innerText = (voltage = +voltageInp.value).toFixed(1));\ncontrols.append(voltageInp, br());\n\n// Appending generate sine\nconst generateSineInp = document.createElement('input');\ngenerateSineInp.type = 'checkbox';\ngenerateSineInp.id = 'generateSine';\ngenerateSineInp.onchange = ev => changeGenerateSine(generateSineInp.checked);\nconst generateSineInpLbl = document.createElement('label');\ngenerateSineInpLbl.htmlFor = 'generateSine';\ngenerateSineInpLbl.innerText = `Generate Sine Wave (${sineWaveFrequency}Hz)`;\ncontrols.append(generateSineInp, generateSineInpLbl, br());\n\n// Appending circuit type selector\nconst circuitDiv = document.createElement('div');\nconst circuitDivHeading = document.createElement('h4');\ncircuitDivHeading.innerText = 'Select Circuit Type:';\ncircuitDiv.append(circuitDivHeading);\nconst handlers = {\n  'Pure Resistor': () => changeCircuitType('Resistive'),\n  'Pure Inductor': () => changeCircuitType('Inductive'),\n  'Pure Inductor (initial current corrected)': () => changeCircuitType('InductiveCorrected'),\n  'RL Series Circuit': () => changeCircuitType('ResInd'),\n};\nfor (const text in handlers) {\n  if (Object.prototype.hasOwnProperty.call(handlers, text)) {\n    const inpt = document.createElement('input');\n    inpt.type = 'radio';\n    inpt.name = 'circuitType';\n    if (text === 'Pure Resistor') inpt.checked = true;\n    inpt.id = text;\n    inpt.onchange = (<any>handlers)[text];\n    circuitDiv.append(inpt);\n    const lbl = document.createElement('label');\n    lbl.innerText = text;\n    lbl.htmlFor = text;\n    circuitDiv.append(lbl, br());\n  }\n}\ncontrols.append(circuitDiv);\n\n// Appending circuit constants\nconst constantsDiv = document.createElement('div');\nconst constantsDivHeading = document.createElement('h4');\nconstantsDivHeading.innerText = 'Circuit Constants';\nconstantsDiv.append(constantsDivHeading);\nconstantsDiv.append(`Inductance : ${inductance}H`, br());\nconstantsDiv.append(`Resistance : ${resistance}Ω`, br());\ncontrols.append(constantsDiv);\n"],"names":["__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","p","sineWaveAngularVelocity","Math","PI","initialInductorCurrent","integrateResistorCurrent","delta","voltage","integrateInductorCurrent","currentIntegral","integrateResIndCurrent","integrateCurrent","rps","wheelR","loadtype","generateSine","generatorStartTS","previousTS","wheelEl","document","createElement","id","src","getElementById","append","changeGenerateSine","checked","changeCircuitType","loadt","step","timeStamp","current","style","transform","curEl","innerText","toFixed","curPgr","value","volEl","voltageInp","sin","window","requestAnimationFrame","br","controls","max","currentMax","voltageLablel","htmlFor","type","min","oninput","ev","generateSineInp","onchange","generateSineInpLbl","circuitDiv","circuitDivHeading","handlers","text","Object","prototype","hasOwnProperty","call","inpt","name","lbl","constantsDiv","constantsDivHeading"],"sourceRoot":""}